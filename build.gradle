buildscript {
    apply from: "dependencies.gradle"
    repositories {
        jcenter()
    }
    dependencies {
        classpath lib.kotlin["gradle"]
        classpath lib.junit["plugin"]
    }
}

subprojects {
    apply plugin: "kotlin"
    repositories {
        jcenter()
    }

    dependencies {
        compile lib.kotlin["std"]
    }
}

project(":generator"){
    dependencies {
        compile lib["guava"]
    }
}

project(":library"){
    apply from: "../spek.gradle"
    version "0.1.0"
    repositories {
        maven { url  "http://dl.bintray.com/anci/maven" }
    }

    dependencies {
        compile lib.ecollections["api"]
        compile lib.ecollections["fjoin"]
        compile lib.ecollections["impl"]

        testCompile String.format(lib.anci["test"].toString(), "main")
    }

    sourceSets.main.java.srcDirs += "src/main/codegen"
}